/*
 * ------------------------------------------------------------
 * IMPORTANT: The contents of this file are auto-generated.
 *
 * This file may be updated by the Shopify admin theme editor
 * or related systems. Please exercise caution as any changes
 * made to this file may be overwritten.
 * ------------------------------------------------------------
 */
{
  "sections": {
    "main": {
      "type": "main-page",
      "custom_css": [
        "h1.page-title,h1 {display: none !important;}"
      ],
      "settings": {
        "padding_top": 0,
        "padding_bottom": 0
      }
    },
    "custom_liquid_n76mU3": {
      "type": "custom-liquid",
      "name": "t:sections.custom-liquid.presets.name",
      "settings": {
        "custom_liquid": "<div id=\"early-access-app\" class=\"early-access-app\">\n  <div class=\"ea-container\">\n\n    <!-- PAGE HEADING (OPTIONAL TO HIDE) -->\n    <h1 class=\"ea-title\">Early Access</h1>\n\n    {% form 'customer', id: 'clime-early-access-form' %}\n      {% if form.posted_successfully? %}\n        <!-- ============================= -->\n        <!-- SUCCESS / THANK-YOU SCREEN   -->\n        <!-- ============================= -->\n        <div class=\"ea-thankyou\">\n          <h2>You're in! ðŸŽ‰</h2>\n          <p>\n            You've been added to the CLIME Early Access list.\n            We'll email you your pouch configuration and a link when we're ready to launch.\n          </p>\n        </div>\n\n      {% else %}\n        <!-- ============================= -->\n        <!-- MAIN EARLY ACCESS CONTENT    -->\n        <!-- ============================= -->\n\n        <div class=\"ea-card\">\n          <h2 class=\"ea-h2\">Almost there &mdash; lock in your custom pouch</h2>\n          <p class=\"ea-sub\">\n            Review your personalized CLIME pouch and enter your email to join early access.\n            Youâ€™ll get <b>one boost free</b> (~$0.25 per pouch) when we launch.\n          </p>\n\n          <!-- CONFIGURATION SUMMARY -->\n          <div class=\"ea-section\">\n            <h3 class=\"ea-h3\">Your configuration</h3>\n            <p><b>Caffeine:</b> <span id=\"ea-caffeine\"></span> mg</p>\n            <p><b>Focus Boost:</b> <span id=\"ea-focus\"></span></p>\n            <p><b>Balance Boost:</b> <span id=\"ea-balance\"></span></p>\n            <p><b>Quantity:</b> <span id=\"ea-qty\"></span> pouches</p>\n          </div>\n\n          <!-- PRICING -->\n          <div class=\"ea-section\">\n            <h3 class=\"ea-h3\">Pricing</h3>\n\n            <div class=\"ea-line\">\n              <span>Base price per pouch</span>\n              <span>$<span id=\"ea-price\"></span></span>\n            </div>\n\n            <div class=\"ea-line\">\n              <span>Quantity</span>\n              <span id=\"ea-qty2\"></span>\n            </div>\n\n            <div class=\"ea-line\">\n              <span>Original total</span>\n              <span>$<span id=\"ea-total\"></span></span>\n            </div>\n\n            <div class=\"ea-line ea-green\">\n              <span>Early access bonus (free boost)</span>\n              <span>- $<span id=\"ea-discount\"></span></span>\n            </div>\n\n            <div class=\"ea-line ea-bold\">\n              <span>Early access total</span>\n              <span>$<span id=\"ea-final\"></span></span>\n            </div>\n          </div>\n\n          <!-- EMAIL SIGNUP FORM -->\n          <div class=\"ea-section\">\n            <h3 class=\"ea-h3\">Get early access & your free boost</h3>\n\n            <label for=\"cea-email\" class=\"ea-label\">Email</label>\n           <input\n  id=\"cea-em\n  type=\"email\"\n  name=\"contact[email]\"\n  required\n  autocomplete=\"email\"\n  class=\"ea-input\"\nplaceholder=\"you@example.com\"\n/>\n\n<input\n  type=\"hidden\"\n  id=\"ea-tags\"\n  name=\"contact[tags]\"\n  value=\"clime_early_access\"\n/>\n\n            <p class=\"ea-note\">\n              Weâ€™ll email you your configuration and early access link. No spam, ever.\n            </p>\n\n            <!-- HIDDEN FIELDS FOR STORING CONFIG -->\n            <input type=\"hidden\" name=\"contact[tags]\" id=\"cea-tags\">\n            <textarea id=\"cea-config-message\" name=\"contact[body]\" hidden></textarea>\n\n            <button type=\"submit\" class=\"ea-button\">\n              Join early access & save\n            </button>\n          </div>\n        </div>\n\n      {% endif %}\n    {% endform %}\n  </div>\n</div>\n\n<style>\n  /* Layout */\n  .ea-container {\n    max-width: 720px;\n    margin: 0 auto;\n    padding: 24px 16px 80px;\n  }\n\n  .ea-title {\n    display: none !important; /* Hide Shopify page title */\n  }\n\n  .ea-card {\n    background: #ffffff;\n    border-radius: 16px;\n    border: 1px solid #eaeaea;\n    padding: 24px;\n    box-shadow: 0 6px 18px rgba(0,0,0,0.04);\n  }\n\n  .ea-h2 {\n    font-size: 22px;\n    font-weight: 800;\n    margin-bottom: 4px;\n  }\n\n  .ea-sub {\n    font-size: 14px;\n    color: #555;\n    margin-bottom: 20px;\n    line-height: 1.45;\n  }\n\n  .ea-section {\n    margin-top: 20px;\n    font-size: 14px;\n  }\n\n  .ea-h3 {\n    font-size: 16px;\n    font-weight: 700;\n    margin-bottom: 8px;\n  }\n\n  .ea-line {\n    display: flex;\n    justify-content: space-between;\n    padding: 4px 0;\n    font-size: 14px;\n  }\n\n  .ea-bold {\n    font-weight: 700;\n  }\n\n  .ea-green {\n    color: #0a7d38;\n    font-weight: 600;\n  }\n\n  .ea-label {\n    display: block;\n    margin-bottom: 4px;\n    font-weight: 600;\n  }\n\n  .ea-input {\n    width: 100%;\n    padding: 10px 12px;\n    border: 1px solid #ccc;\n    border-radius: 8px;\n    margin-bottom: 6px;\n    font-size: 14px;\n  }\n\n  .ea-note {\n    color: #666;\n    font-size: 13px;\n    margin-bottom: 12px;\n  }\n\n  .ea-button {\n    width: 100%;\n    padding: 12px 16px;\n    background: #000;\n    color: #fff;\n    font-weight: 700;\n    font-size: 15px;\n    border-radius: 999px;\n    border: none;\n    cursor: pointer;\n  }\n\n  /* THANK-YOU STATE */\n  .ea-thankyou {\n    background: #f5fdf7;\n    border: 1px solid #b6e2c3;\n    border-radius: 16px;\n    padding: 28px 22px;\n    text-align: center;\n  }\n\n  .ea-thankyou h2 {\n    margin: 0 0 10px;\n    font-size: 22px;\n    font-weight: 800;\n  }\n\n  .ea-thankyou p {\n    font-size: 14px;\n    color: #35503a;\n    margin: 0;\n  }\n</style>\n\n<script>\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  const params = new URLSearchParams(window.location.search);\n\n  const caffeineMg = parseInt(params.get(\"caff\") || \"150\", 10);\n  const focusLevel = params.get(\"focus\") || \"medium\";\n  const balanceLevel = params.get(\"balance\") || \"medium\";\n  const qty = parseInt(params.get(\"qty\") || \"10\", 10);\n  const pricePerPouch = parseFloat(params.get(\"price\") || \"3.00\");\n  const total = parseFloat(params.get(\"total\") || (pricePerPouch * qty).toFixed(2));\n  const discountTotal = (0.25 * qty).toFixed(2);\n  const finalTotal = (total - parseFloat(discountTotal)).toFixed(2);\n  const personaLabel = params.get(\"personaLabel\") || \"\";\n\n  // Fill page fields\n  document.getElementById(\"ea-caffeine\").innerText = caffeineMg;\n  document.getElementById(\"ea-focus\").innerText = focusLevel.charAt(0).toUpperCase() + focusLevel.slice(1);\n  document.getElementById(\"ea-balance\").innerText = balanceLevel.charAt(0).toUpperCase() + balanceLevel.slice(1);\n  document.getElementById(\"ea-qty\").innerText = qty;\n  document.getElementById(\"ea-qty2\").innerText = qty;\n  document.getElementById(\"ea-price\").innerText = pricePerPouch.toFixed(2);\n  document.getElementById(\"ea-total\").innerText = total.toFixed(2);\n  document.getElementById(\"ea-discount\").innerText = discountTotal;\n  document.getElementById(\"ea-final\").innerText = finalTotal;\n\n  // Build hidden JSON block for email body\n  const configJSON =\n    \"CLIME Early Access Sign-up\\n\\n\" +\n    (personaLabel ? \"Persona: \" + personaLabel + \"\\n\\n\" : \"\") +\n    \"Caffeine: \" + caffeineMg + \" mg\\n\" +\n    \"Focus Boost: \" + focusLevel + \"\\n\" +\n    \"Balance Boost: \" + balanceLevel + \"\\n\" +\n    \"Quantity: \" + qty + \"\\n\\n\" +\n    \"Original price per pouch: $\" + pricePerPouch.toFixed(2) + \"\\n\" +\n    \"Original total: $\" + total.toFixed(2) + \"\\n\" +\n    \"Early access discount: $\" + discountTotal + \"\\n\" +\n    \"Early access final total: $\" + finalTotal + \"\\n\";\n\n  // Populate hidden textarea\n  const bodyField = document.getElementById(\"cea-config-message\");\n  if (bodyField) bodyField.value = configJSON;\n\n  // Populate Shopify customer tags\n  const tagsInput = document.getElementById(\"cea-tags\");\n  if (tagsInput) {\n    const personaTag = personaLabel\n      ? \"persona-\" + personaLabel.toLowerCase().replace(/[^a-z0-9]+/g, \"-\")\n      : \"\";\n\n    const tags = [\n      \"clime-early-access\",\n      \"caff-\" + caffeineMg,\n      \"focus-\" + focusLevel,\n      \"balance-\" + balanceLevel,\n      \"qty-\" + qty\n    ];\n\n    if (personaTag) tags.push(personaTag);\n\n    tagsInput.value = tags.join(\",\");\n  }\n});\n</script>\n\n<script>\n  (function() {\n    function getParam(name) {\n      var params = new URLSearchParams(window.location.search);\n      return params.get(name);\n    }\n\n    function slugify(str) {\n      if (!str) return '';\n      return str\n        .toString()\n        .toLowerCase()\n        .trim()\n        .replace(/[^a-z0-9]+/g, '_')\n        .replace(/^_+|_+$/g, '');\n    }\n\n    var caffeine      = getParam('caffeine');\n    var focus         = getParam('focus');\n    var balance       = getParam('balance');\n    var qty           = getParam('qty');\n    var pricePerPouch = getParam('pricePerPouch');\n    var total         = getParam('total');\n    var personaLabel  = getParam('personaLabel');\n\n    var tags = ['clime_early_access'];\n\n    if (caffeine)       tags.push('caf_' + caffeine);\n    if (focus && focus !== 'none')     tags.push('focus_' + focus);\n    if (balance && balance !== 'none') tags.push('balance_' + balance);\n    if (qty)            tags.push('qty_' + qty);\n    if (pricePerPouch)  tags.push('pp_' + Number(pricePerPouch).toFixed(2));\n    if (total)          tags.push('total_' + Number(total).toFixed(2));\n    if (personaLabel)   tags.push('persona_' + slugify(personaLabel));\n\n    var tagInput = document.getElementById('ea-tags');\n    if (tagInput) {\n      tagInput.value = tags.join(', ');\n    }\n  })();\n</script>",
        "color_scheme": "",
        "padding_top": 28,
        "padding_bottom": 0
      }
    }
  },
  "order": [
    "main",
    "custom_liquid_n76mU3"
  ]
}
